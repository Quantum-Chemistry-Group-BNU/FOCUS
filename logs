
----
LOGS
----

 * Setup tests for NR & R integrals [DONE20210324]
 
 * Redesign and decouple codes [DONE20210408]
    
 * Implementation of CTNS with TRS [DONE20210516]
    - checked for kinds {rN,rNSz,cN,cNSz,cNK}
    - rewrite qtensor such that qt2/qt3/qt4 are just views

 * Parallelization: MPI [DONE20210530]
    - cleanup (IO) 
    - setup testing mechanism? 
    - preparation: makefile -> mpi 
    - mpi version 
       - distribute AP & BQ, compxwf, Hmat [DONE20210523]
       - opt: HDiag, HVec, Davidson, pRDM, rwfuns, twodot [DONE20210528] 
       - load balance: adjust distribution
       - careful check serial/parallel version against previous 
         versions with different compilers

 * Benchmark performances: Fe2S2 [DONE20210811]
    - different topologies: -> SVD-based decimation
       - problem: TRS-adapted SVD decimation is necessary in initialization [DONE20210706] 
       - problem: decimation in sweep -> have to give up perturbative noise for CTNS! 
		   - decimation_row_nkr [DONE20210709]
		   - decimation_row_kr [DONE20210711]

 * Optimized parallel version [DONE20211002]
    - OpenMP support [DONE20210903]
	- Hx & decimation
	- Initialization of CTNS
    - Z2 symmetry: {rZ2,cZ2}
        - Checked by diagonalizing fock::Hmat
    - better data structure for qtensor & oper_dict [DONE20211002]
        - problem: can bypass the 2GB limit in MPI_COUNT using native MPI support (later)

 * Optimized twodot algorithm [DONE202201XX]
    - generation of onedot_Hx formulae
    - implemenation of onedot_Hx contraction
    - generation of twodot_Hx formulae
    - optimized formation of sigma vector by contract_qt4_qt2 (without intermediate)
    - renormalization formulae

 * Large-scale parallelization
    - parallelization - push to the limit!
    - GPU?

------
FUTURE
------

 * Applications:
    - Small system like C2+/O2? [checked against FCI results]
    - Fe2S2 [CAS(30e,20o)] - parallelized
    - SOC within this active space
    - G-tensor/GIAO for Ferric-Ferrous dimer [THIS WOULD BE GREAT!]
 
 * Twordms: enable Rel-CASSCF with interface to other codes 

--------------
KNOWN PROBLEMS
--------------

 1. thresh_proj & thresh_ortho sensitivity in SCI projection [theoretical/numerical problem?]

 2. to work with ctns, pRDM is removed which makes onedot opt prone to local minimum:
    implementing decimation for {|psi>, sum_k a_k|psi>, sum_l b_l|psi>} may help.

       /home/lx/lzd/focus_repo/FOCUS/examples/3_h6+_kr
       finput= results/rinput.dat
       fname[ref]= results/rctns.out
       nsweep= 2
       fname[cal]= ./tmp/rctns.out
       nsweep= 2
       eref= [-2.89565156 -2.74390766]  ecal= [-2.89503561 -2.74089796]  ediff= 0.0030720814731275076
       fail

