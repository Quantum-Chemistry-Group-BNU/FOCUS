# 
#   - rdm1 (rNSz and rNS for spin-free 1RDM) [DONE@2024/09/XX]
#      - driver
#      - preparation of environment: task dependent!
#
#   - rdm2 (rNSz and rNS for spin-free 2RDM)   
#      - num pattern
#      - operator pattern
#
#   - rdm1t (Tpq-1RDM)
#   
#   - <MPS|H|MPS'> using rdm1,rdm2 (enable different bra and ket in oper_renorm)
#   // <MPS[N]|ap^+aq|MPS'[N]>
#   // <MPS[N-2]|apaq|MPS[N]>
#   // <MPS[N-1]|ap|MPS[N]>
#   // How to deal with SU(2) case? 
#   // In particular, the singlet embedding case!
#	
#
#   - Brute-force RDM & TDM algorithm for non-spin-adapted: [DONE@2024/06/02]
#      - Apply local op to MPS:
#      - Contract <bMPS|kMPS> to get RDM/TDM
#      - quantum information measure:
#         - single orbital entropy [or just from 1,2-RDMs]
#
#      - spin-adapted case? 
#         - What is the correct math for applying operators?
#
#   - Batch algorithm for RDMs: THIS SHOUDLD BE SIMPLE FOLLOWING CHAN'S PAPER!!!
#
#   - Optimized algorithm via reusing intermediates
#      - non-spin-adapted case: 
#         - one-body RDM:
#         - two-body RDM:
#      - spin-adapted case:
#         - one-body RDM:
#         - two-body RDM:
#      - transition PDM:
#         - between same spins
#         - between singlet embedding wavefunction?
#      - between different spins (for SOC)
#         - perturbative SOC via state interaction
#   - GPU version:
#      - using batch algorithm! [GENERATE FORMULAE IS IMPORTANT!!!]
#   - Singlet embedding for SOC - <Tpq>?
#


 * Benchmark: jiageng or other platform [DONE@2024/XX/XX]
   - Compilation on jiageng: need to used mkl for magma/zquatev, 
                             but use mkl2022 for focus,
                             otherwise, dgemv_batch does not exist!
   - fe2s2
   - fe4s4
   - fe8s7
   - femoco

### 2025 DMRG + QC ###

 * Disentangle transformation:
   - Python implementation
   - Generate circuit for quantum computer

### TODOs: more functionalities ###

 * Kramers version for 2c/4c Hamiltonian: 
   - support complex version [DONE@2023/02/28]
   - what about 'R' operation in contract? [general complex]
   - hvec4 error for CNSz in H5 with real integral? [noise cannot be added, 
      otherwise renormalized state become complex, and the construction of H 
      requires 'Conj' operation in GEMM!] 
   - Two-RDMs: enable Rel-CASSCF with interface to other codes 

### TODOs: better performance ###

 * Decimation for su2 is not optimized/parallelized yet

 * Decimation on GPU?
   - cuSolver: svd
   - cuSOlver: eig

 * Point group symmetry (D2h) -> good for molecules like cr2

 * Better Davidson solver on GPU?
   - GPU memory is a problem

 * Real space parallelization (=> More GPU/DCU) [!!!]
   - No really useful for pratical applications except for large-scale benchmark

 * Support Mixed CPU-GPU implementation?
   - mmtasks revise [also avoid copy for magma?]
 
 * Support further partition of operators: reduce GPU memory requirement [!!!]
   - GPU only compute large blocks y[l,r,c1,c2] if d[l] & d[r] > dthresh,
     and hence we only need to send rows of o[l,:] and o[r,:] as well as
     the full vector x & y to GPU, which minimize the memory usage of GPU.
   - Can renorm be performed in a similar way?

### TODOs: applications ###

 * Applications:
    - Small system like C2+/O2? [checked against FCI results]
    - entropy as a complexity measure?
    - Fe2S2 [CAS(30e,20o)] - parallelized
    - SOC within this active space
    - G-tensor/GIAO for Ferric-Ferrous dimer
    - classical help for quantum computing? better biased measurement?
 
 * VMPS+GPU? (simply dense matrix multiplication?)

